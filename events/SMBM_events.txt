namespace = smbm

# Anti-rushing event
country_event = {
	id = smbm.1
	title = smbm.1.name
	desc = smbm.1.desc
	
	picture = GFX_evt_space_station
	show_sound = event_default
	
	fire_only_once = yes
	
	trigger = {
		is_ai = no
	}
	
	immediate = {
		add_modifier = {
			modifier = be_careful_out_there
			days = 7300
		}
	}

	option = {
		name = smbm.1.option
	}
}

# Unholy matrimony: The Fanatic Necrophage nerf
country_event = {
	id = smbm.2
	title = smbm.2.name
	desc = smbm.2.desc
	
	picture = GFX_evt_disease_outbreak
	show_sound = event_default
	
	fire_only_once = yes
	
	trigger = {
		is_ai = no
		has_origin = origin_necrophage
		has_valid_civic = civic_fanatic_purifiers
	}
	
	immediate = {
		add_modifier = {
			modifier = unholy_matrimony_1
			days = -1
		}
	}

	option = {
		name = smbm.2.option
	}
}

# Unholy matrimony: The Barbaric Necrophage nerf
country_event = {
	id = smbm.3
	title = smbm.3.name
	desc = smbm.3.desc
	
	picture = GFX_evt_disease_outbreak
	show_sound = event_default
	
	fire_only_once = yes
	
	trigger = {
		is_ai = no
		has_origin = origin_necrophage
		has_valid_civic = civic_barbaric_despoilers
	}
	
	immediate = {
		add_modifier = {
			modifier = unholy_matrimony_2
			days = -1
		}
	}

	option = {
		name = smbm.3.option
	}
}

# System Reboot: Ring World Robot nerf
country_event = {
	id = smbm.4
	title = smbm.4.name
	desc = smbm.4.desc
	
	picture = GFX_evt_generator_powerup
	show_sound = event_energy_field
	
	fire_only_once = yes
	
	trigger = {
		is_ai = no
		has_origin = origin_shattered_ring
		has_authority = auth_machine_intelligence
	}
	
	immediate = {
		add_modifier = {
			modifier = system_reboot
			days = 10950
		}
		add_modifier = {
			modifier = broken_ring
			days = -1
		}
	}

	option = {
		name = smbm.4.option
	}
}

# Live long and prosper part 1: Common grounds boost
country_event = {
	id = smbm.5
	title = smbm.5.name
	desc = smbm.5.desc
	
	picture = GFX_evt_crisis_defeated
	show_sound = event_celebration
	
	fire_only_once = yes
	
	trigger = {
		has_origin = origin_common_ground
	}

	mean_time_to_happen = { months = 6 }

	immediate = {
		# science ship
		create_fleet = {
			effect = {
				set_owner = root.owner

				create_ship = {
					name = "Longevity"
					random_existing_design = science
				}

				set_fleet_stance = evasive
				set_location = root.capital_scope.star

				owner = {
					create_leader = {
						class = scientist
						sub_type = survey
						name = random
						species = owner_main_species
					}
				}
				set_leader = last_created_leader
			}
		}

		owner = {
			country_event = {
				id = smbm.6 days = 182
			}
		}
	}

	option = {
		name = smbm.5.option
		add_resource = {
			influence = 125
		}
	}
}

# Live long and prosper part 2: Common grounds boost
country_event = {
	id = smbm.6
	title = smbm.6.name
	desc = smbm.6.desc
	
	picture = GFX_evt_crisis_defeated
	show_sound = event_celebration
	
	is_triggered_only = yes

	immediate = {
		# colony ship
		create_fleet = {
			effect = {
				set_owner = root.owner
				create_ship = {
					name = "Prosperity"
					random_existing_design = constructor
				}
				set_fleet_stance = evasive
				set_location = root.capital_scope.star
			}
		}
	}

	option = {
		name = smbm.6.option
		add_resource = {
			influence = 125
		}
	}
}