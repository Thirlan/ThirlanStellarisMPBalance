namespace = smbm

# Trigger start of game events
# Delay them to a few days after start so that we don't overwhelm players
event = {
	id = smbm.1
    hide_window = yes

	is_triggered_only = yes
    
    immediate = {
        every_playable_country = {
            limit = {
                is_ai = no
            }
            country_event = {
                id = smbm.2
                days = 10
            }
            country_event = {
                id = smbm.3
                days = 10
            }
            country_event = {
                id = smbm.6
                days = 30
            }
            country_event = {
                id = smbm.8
                days = 30
            }
        }
    }
}

# Anti-rushing event
country_event = {
	id = smbm.2
	title = smbm.2.name
	desc = smbm.2.desc
	
	picture = GFX_evt_space_station
	show_sound = event_default
	
	is_triggered_only = yes
	
	trigger = {
		is_ai = no
	}
	
	immediate = {
		add_modifier = {
			modifier = be_careful_out_there
			days = 7300
		}
	}

	option = {
		name = smbm.2.option
	}
}

# Unholy matrimony: The Fanatic Necrophage nerf
country_event = {
	id = smbm.3
	title = smbm.3.name
	desc = smbm.3.desc
	
	picture = GFX_evt_disease_outbreak
	show_sound = event_default
	
	is_triggered_only = yes
	
	trigger = {
		is_ai = no
		has_origin = origin_necrophage
		has_valid_civic = civic_fanatic_purifiers
	}
	
	immediate = {
		add_modifier = {
			modifier = unholy_matrimony
			days = -1
		}
	}

	option = {
		name = smbm.3.option
	}
}

# Live long and prosper: Common grounds boost
country_event = {
	id = smbm.6
	title = smbm.6.name
	desc = smbm.6.desc
	
	picture = GFX_evt_crisis_defeated
	show_sound = event_celebration
	
	is_triggered_only = yes
	
	trigger = {
        is_ai = no
		has_origin = origin_common_ground
	}

	immediate = {
		# science ship
		create_fleet = {
			effect = {
				set_owner = root.owner

				create_ship = {
					name = "Longevity"
					random_existing_design = science
				}

				set_fleet_stance = evasive
				set_location = root.capital_scope.star

				owner = {
					create_leader = {
						class = scientist
						sub_type = survey
						name = random
						species = owner_main_species
					}
				}
				set_leader = last_created_leader
			}
		}
	}

	option = {
		name = smbm.6.option
		add_resource = {
			influence = 125
		}
	}
}

# Long live the hegemony: Hegemony boost
country_event = {
	id = smbm.8
	title = smbm.8.name
	desc = smbm.8.desc
	
	picture = GFX_evt_coronation
	show_sound = event_celebration
	
	is_triggered_only = yes
	
	trigger = {
        is_ai = no
		has_origin = origin_hegemon
	}

	option = {
		name = smbm.8.option
		add_resource = {
			influence = 200
			alloys = 75
		}
	}
}

# Factory Overclocking Boost
country_event = {
	id = smbm.10
	hide_window = yes

	is_triggered_only = yes

	trigger = {
		has_civic = civic_machine_factory_overclock
	}

	immediate = {
		from = {
			add_skill = 1
		}
	}
}

# Venerable boost
country_event = {
	id = smbm.11
	hide_window = yes

	is_triggered_only = yes

	trigger = {
		has_trait = "trait_venerable"
	}

	immediate = {
		from = {
			add_skill = 1
		}
	}
}

# Transcendent Learning Boost
country_event = {
	id = smbm.12
	hide_window = yes

	is_triggered_only = yes

	trigger = {
		has_ascension_perk = ap_transcendent_learning
	}

	immediate = {
		from = {
			add_skill = 1
		}
	}
}

# Policy Leader Capacity Booster
country_event = {
	id = smbm.13
	hide_window = yes

	is_triggered_only = yes

	trigger = {
		has_policy_flag = leader_enhancement_capacity_boosters
	}

	immediate = {
		from = {
			add_skill = 1
		}
	}
}

# Ruthless Competition Boost
country_event = {
	id = smbm.14
	hide_window = yes

	is_triggered_only = yes

	trigger = {
		has_civic = civic_ruthless_competition
	}

	immediate = {
		from = {
			add_skill = 1
		}
	}
}

# Pooled Knowledge Boost
country_event = {
	id = smbm.15
	hide_window = yes

	is_triggered_only = yes

	trigger = {
		has_civic = civic_hive_pooled_knowledge
	}

	immediate = {
		from = {
			add_skill = 1
		}
	}
}

# Enhanced Memory Boost
country_event = {
	id = smbm.16
	hide_window = yes

	is_triggered_only = yes

	trigger = {
		has_trait = "trait_robot_enhanced_memory"
	}

	immediate = {
		from = {
			add_skill = 1
		}
	}
}

# Grand Council Boost
country_event = {
	id = smbm.17
	hide_window = yes

	is_triggered_only = yes

	trigger = {
		has_tradition = "tr_domination_grand_council"
        from = {
			OR = {
				leader_class = ruler
			}
		}
	}

	immediate = {
		from = {
			add_skill = 1
		}
	}
}

# Viceroy Boost
country_event = {
	id = smbm.18
	hide_window = yes

	is_triggered_only = yes

	trigger = {
		has_tradition = "tr_domination_colonial_viceroys"
        from = {
			OR = {
				leader_class = governor
			}
		}
	}

	immediate = {
		from = {
			add_skill = 1
		}
	}
}

# Philosopher King Boost
country_event = {
	id = smbm.19
	hide_window = yes

	is_triggered_only = yes

	trigger = {
		has_civic = civic_philosopher_king
        from = {
			OR = {
				leader_class = ruler
			}
		}
	}

	immediate = {
		from = {
			add_skill = 1
		}
	}
}

# Talented boost
country_event = {
	id = smbm.20
	hide_window = yes

	is_triggered_only = yes

	trigger = {
		has_trait = "trait_talented"
	}

	immediate = {
		from = {
			add_skill = 1
		}
	}
}